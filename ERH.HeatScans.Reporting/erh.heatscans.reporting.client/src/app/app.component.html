<main class="main">
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>{{ title }}</h1>
      <p>Sign in with Google to access your Drive files</p>
    </div>

    <!-- Authentication Section -->
    <div class="auth-section">
      @if (isAuthLoading()) {
      <div class="loading">Initializing authentication...</div>
      } @else if (authError()) {
      <div class="error">{{ authError() }}</div>
      }

      @if (!isAuthenticated()) {
      <button class="btn btn-primary" (click)="onSignIn()" [disabled]="isAuthLoading()">
        Sign in with Google
      </button>
      } @else {
      <div class="user-info">
        <img [src]="user()?.picture" [alt]="user()?.name" class="user-avatar" />
        <div class="user-details">
          <p class="user-name">{{ user()?.name }}</p>
          <p class="user-email">{{ user()?.email }}</p>
        </div>
      </div>
      <button class="btn btn-secondary" (click)="onSignOut()">Sign Out</button>
      }
    </div>    

    <!-- Map Display Section -->
    @if (isAuthenticated()) {
    <!--<div class="map-section">
      <app-map-display address="Pruimengaarde 8"></app-map-display>
    </div>-->
    }

    <!-- Google Drive Browser Section -->
    @if (isAuthenticated()) {
    <div class="drive-section">
      <app-google-drive-browser></app-google-drive-browser>
    </div>
    }
  </div>
</main>
