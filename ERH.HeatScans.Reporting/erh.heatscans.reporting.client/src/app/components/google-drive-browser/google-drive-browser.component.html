<div class="google-drive-browser">
  <h2>Google Drive Browser</h2>

  <div *ngIf="isLoading" class="loading">
    <p>Loading folder structure...</p>
  </div>

  <div *ngIf="error" class="error">
    <p>{{ error }}</p>
    <button (click)="loadFolderStructure()">Retry</button>
  </div>

  <div *ngIf="folderStructure && !isLoading" class="folder-structure">
    <div class="folder-item root">
      <h3>{{ folderStructure.name }}</h3>
      <div class="folder-meta">
        <span class="folder-id">ID: {{ folderStructure.id }}</span>
        <span *ngIf="folderStructure.modifiedTime" class="modified-time">
          Modified: {{ folderStructure.modifiedTime | date:'short' }}
        </span>
      </div>
    </div>

    <div *ngIf="folderStructure.children && folderStructure.children.length > 0" class="children">
      <h4>Contents:</h4>
      <ul>
        <li *ngFor="let item of folderStructure.children" 
            [class.folder]="item.isFolder"
            [class.file]="!item.isFolder">
          <span class="item-icon">{{ item.isFolder ? 'ğŸ“' : 'ğŸ“„' }}</span>
          <span class="item-name" 
                [class.clickable]="item.isFolder"
                (click)="item.isFolder ? onFolderClick(item.id) : null">
            {{ item.name }}
          </span>
          <span *ngIf="item.size" class="item-size">
            ({{ item.size | number }} bytes)
          </span>
          <span *ngIf="item.modifiedTime" class="item-modified">
            {{ item.modifiedTime | date:'short' }}
          </span>
        </li>
      </ul>
    </div>

    <div *ngIf="!folderStructure.children || folderStructure.children.length === 0" class="empty">
      <p>This folder is empty.</p>
    </div>
  </div>
</div>
